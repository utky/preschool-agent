version: 2

models:
  - name: stg_pdf_uploads__extracted_texts
    description: "Gemini 2.5 FlashでPDFからテキストを抽出したステージングモデル"
    columns:
      - name: uri
        description: "GCS URI"
        data_tests:
          - unique
          - not_null
      - name: extracted_markdown
        description: "Gemini 2.5 FlashでMarkdown形式で抽出されたテキスト"
        data_tests:
          - not_null
      - name: content_type
        description: "MIMEタイプ"
      - name: size
        description: "ファイルサイズ（バイト）"
      - name: md5_hash
        description: "MD5ハッシュ"
      - name: updated_at
        description: "GCSオブジェクトの最終更新日時"

  - name: stg_pdf_uploads__file_metadata
    description: "GCS Object Tableのメタデータからオリジナルファイル名を抽出するモデル"
    columns:
      - name: uri
        description: "GCS URI"
      - name: original_filename
        description: "オリジナルファイル名（メタデータからURLデコード済み）"
      - name: updated_at
        description: "GCSオブジェクトの最終更新日時"
