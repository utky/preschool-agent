version: 2

models:
  - name: stg_pdf_uploads__extracted_texts
    description: "Gemini 2.5 FlashでPDFからテキストを抽出したステージングモデル"
    columns:
      - name: uri
        description: "GCS URI"
        data_tests:
          - unique
          - not_null
      - name: document_id
        description: "Google DriveファイルID（GCSメタデータから取得）"
        data_tests:
          - not_null
      - name: original_filename
        description: "オリジナルファイル名（メタデータからURLデコード済み）"
      - name: extracted_markdown
        description: "Gemini 2.5 FlashでMarkdown形式で抽出されたテキスト"
        data_tests:
          - not_null
      - name: ml_generate_text_llm_result
        description: "Gemini生レスポンスJSON（デバッグ用）"
      - name: ml_generate_text_status
        description: "ML.GENERATE_TEXTのステータス（空文字列=成功）"
      - name: content_type
        description: "MIMEタイプ"
      - name: size
        description: "ファイルサイズ（バイト）"
      - name: md5_hash
        description: "MD5ハッシュ"
      - name: updated_at
        description: "GCSオブジェクトの最終更新日時"

