version: 2

sources:
  - name: pdf_uploads
    description: "GCSバケット上のPDFファイルを参照するObject Table"
    database: "{{ env_var('GCP_PROJECT_ID', 'lofilab') }}"
    schema: "{{ env_var('DATASET_ID', 'school_agent') }}"
    tables:
      - name: raw_documents
        description: "PDF UploadsバケットのObject Table（自動検出されたPDFファイルメタデータ）"
        columns:
          - name: uri
            description: "GCS URI (gs://bucket/path)"
          - name: generation
            description: "GCSオブジェクトの世代番号"
          - name: content_type
            description: "MIMEタイプ"
          - name: size
            description: "ファイルサイズ（バイト）"
          - name: md5_hash
            description: "MD5ハッシュ"
          - name: metadata
            description: "GCSオブジェクトメタデータ（JSON）"
          - name: updated
            description: "最終更新日時"
